## Solving Polynomial Systems with Gröbner Bases

Today, I want to solve some systems of polynomial equations over finite fields. I'll be using Gröbner bases, and 
will be working in Julia.  

Why? It happens that I'm working with "ZK-Friendly" hash functions like Poseidon and Rescue. Unlike most hash functions 
that are designed to be efficiently computable on modern CPUs, these hash functions are designed to have concise algebraic 
descriptions so that they can be efficiently computed in zero-knowledge proofs. As a result, the security of these 
hash functions hinges on the difficulty of solving particular systems of polynomial equations over large finite 
fields -- so-called "Gröbner basis attacks". The assumption is that this is hard, and in fact the worst-case 
complexity for computing Gröbner bases is doubly-exponential in the number of variables. Of course, worst-case 
analysis can be misleading -- solving a system of *linear* polynomials is easy -- and so I'm looking for some 
intuition about when a particular system of polynomial equations is solvable.

 
# Polynomial Systems
Given polynomials f_1(x_1, x_2, ..., x_n), f_2(x_1, x_2, ..., x_n), ..., f_m(x_1, x_2, ..., x_n), does the system of
equations f_1(x_1, x_2, ..., x_n) = 0, f_2(x_1, x_2, ..., x_n) = 0, ..., f_m(x_1, x_2, ..., x_n) = 0 have a solution?

A polynomial system over a finite field is a collection of polynomial equations where the coefficients and variables 
belong to a finite field. Solutions to the system simultaneously satisfy all the equations in the system.

# What is a Gröbner Basis?
In short, a Gröbner basis is an equivalent system of polynomials that is easier to solve. In the same way that 
Gaussian elimination transforms a system of linear equations into an equivalent system that is easier



Computing a Grobner basis is a generalization of Gaussian elimination to polynomial systems. The result is an 
equivalent set of polynomials that is easier to solve. In the same way that Gaussian elimination transforms a system of
linear equations into row-echelon form, the Gröbner basis can lead to a triangular form where the equations can 
easily be solved sequentially. 

The Grobner basis of a linear system is the row-echelon form of the system.

- Compare with Gaussian Elimination.
- Definition
- Ideals
By computing a Gröbner basis for the ideal generated by the polynomial equations in the system, we can transform the 
system into an equivalent one that is easier to solve. This process often simplifies the task of finding solutions 
in Fp, as the Gröbner basis can lead to a triangular form where the equations can be solved sequentially.  


# Solving a Polynomial System via Gröbner Bases
The bad news first: the worst-case complexity of computing a Gröbner basis is **doubly-exponential** in the number of 
variables. In general, computing Gröbner bases is EXPSPACE-complete. The complexity bounds are interesting, and I'll 
try to talk about those in a future post.

# And now for some code
There are a few different tools for computing Gröbner bases. I wanted something free to use and able to handle at 
least 64-bit finite fields. I found a few options: 

- https://github.com/sumiya11/Groebner.jl 
- https://ederc.github.io/GroebnerBasis.jl/
- SageMath
- Maple
- MagMa
- Singular

# Solving a Linear System
If the system is linear, finding the Grobner basis is the same as using Gaussian elimination to find the row-echelon 
form.

# Solving a Quadratic System

# Solving a round-reduced version of Poseidon

# Final Thoughts
- Seems like there is a disconnect between tools for computing Gröbner bases the software used in the cryptocurrency 
  world. The former is dominated by academic tools, while the latter is dominated by Rust. The crypto world needs 
  better tools (in Rust) for computing Gröbner bases over larger finite fields (e.g. 2^256). 
- Working with non-linear algebra is hard. There isn't a lot of software available to experiment with. I was excited 
  to see some new packages in Julia. These are great, but they top out at finite fields with 32-bit or 64-bit prime 
  modulus. That's not bad, but there's still a disconnect between applications in cryptography and the available 
  tooling. 

# References
- [Grobner Bases, a Tutorial](https://www3.risc.jku.at/research/theorema/Groebner-Bases-Bibliography/gbbib_files/publication_190.pdf)
- Ideals, Varieties, and Algorithms. Cox, Little, O'Shea
- Grobner Bases. Becker, Weispfenning
- [Algebraic Attacks on ZK-Friendly Hash Functions](https://www.zellic.io/blog/algebraic-attacks-on-zk-hash-functions/)
- [Solving Polynomial Systems over Finite Fields: Algorithms, Implementation and Applications](https://theses.hal.science/tel-01110887/document), Chenqi Mou